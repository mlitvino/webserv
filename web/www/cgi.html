<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CGI Scripts - Webserv</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			background-color: #f5f5f5;
		}
		.container {
			background-color: white;
			padding: 30px;
			border-radius: 10px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		}
		h1 {
			color: #333;
			text-align: center;
			border-bottom: 2px solid #007acc;
			padding-bottom: 10px;
		}
		.nav {
			background-color: #007acc;
			padding: 15px;
			border-radius: 5px;
			margin: 20px 0;
		}
		.nav a {
			color: white;
			text-decoration: none;
			margin-right: 20px;
			padding: 5px 10px;
			border-radius: 3px;
			transition: background-color 0.3s;
		}
		.nav a:hover {
			background-color: #005a8c;
		}
		.cgi-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 20px;
			margin: 30px 0;
		}
		.cgi-card {
			background-color: #f8f9fa;
			padding: 20px;
			border-radius: 10px;
			border-left: 4px solid #007acc;
			transition: transform 0.2s;
		}
		.cgi-card:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 15px rgba(0,0,0,0.1);
		}
		.cgi-card h3 {
			color: #007acc;
			margin-top: 0;
		}
		.cgi-card a {
			display: inline-block;
			background-color: #007acc;
			color: white;
			padding: 8px 16px;
			text-decoration: none;
			border-radius: 5px;
			margin-top: 10px;
		}
		.cgi-card a:hover {
			background-color: #005a8c;
		}
		.info-box {
			background-color: #e3f2fd;
			padding: 20px;
			border-radius: 5px;
			margin: 20px 0;
		}
	</style>
</head>
<body>
	<div class="container">
		<nav class="nav">
			<a href="/">Home</a>
			<a href="/cgi-bin/">CGI Scripts</a>
			<a href="/upload.html">Upload</a>
		</nav>

		<h1>üöÄ CGI Scripts Directory</h1>

		<div class="info-box">
			<h2>What is CGI?</h2>
			<p><strong>Common Gateway Interface (CGI)</strong> is a standard protocol for web servers to execute programs that generate dynamic content. CGI scripts can process form data, interact with databases, generate dynamic HTML, and perform server-side computations.</p>
		</div>

		<div class="cgi-grid">
			<div class="cgi-card">
				<h3>üêç Python Demo Script</h3>
				<p>Comprehensive CGI demonstration showing environment variables, form processing, GET/POST handling, and server information.</p>
				<ul>
					<li>Environment variable display</li>
					<li>GET parameter parsing</li>
					<li>POST data handling</li>
					<li>Dynamic content generation</li>
				</ul>
				<a href="/cgi-bin/demo.py">Run Demo Script</a>
			</div>

			<div class="cgi-card">
				<h3>üìÅ File Upload Handler</h3>
				<p>Advanced CGI script for handling file uploads with multipart/form-data parsing. Saves files to the upload directory with unique names.</p>
				<ul>
					<li>Multipart form data parsing</li>
					<li>File upload processing</li>
					<li>Content type detection</li>
					<li>File preview for text files</li>
				</ul>
				<a href="/cgi-bin/upload.py">File Upload CGI</a>
			</div>

			<div class="cgi-card">
				<h3>‚ö° Hello World (C++)</h3>
				<p>Simple compiled CGI executable written in C++ demonstrating basic CGI functionality and HTTP response generation.</p>
				<ul>
					<li>Compiled binary execution</li>
					<li>Basic HTTP headers</li>
					<li>Simple HTML output</li>
					<li>Fast performance</li>
				</ul>
				<a href="/cgi-bin/hello.cgi">Run Hello CGI</a>
			</div>

			<div class="cgi-card">
				<h3>üß™ CGI Test Suite</h3>
				<p>Comprehensive test suite that validates all CGI functionality and compliance with specification requirements.</p>
				<ul>
					<li>Environment variable testing</li>
					<li>Request method validation</li>
					<li>POST data processing</li>
					<li>PATH_INFO handling</li>
				</ul>
				<a href="/cgi-bin/test.py">Run Test Suite</a>
			</div>

			<div class="cgi-card">
				<h3>üêç Hello World (Python)</h3>
				<p>Simple Python CGI script demonstrating basic HTTP response generation and HTML output.</p>
				<ul>
					<li>Basic Python CGI functionality</li>
					<li>Simple HTML generation</li>
					<li>Content-Type header handling</li>
					<li>Minimal CGI example</li>
				</ul>
				<a href="/cgi-bin/hello.py">Run Hello Python</a>
			</div>

			<div class="cgi-card">
				<h3>üêò Hello World (PHP)</h3>
				<p>Simple PHP CGI script showing basic PHP CGI functionality and HTTP response handling.</p>
				<ul>
					<li>PHP CGI execution</li>
					<li>Header management</li>
					<li>HTML output generation</li>
					<li>PHP-CGI interface</li>
				</ul>
				<a href="/cgi-bin/hello.php">Run Hello PHP</a>
			</div>
		</div>

		<div class="info-box">
			<h2>üîß CGI Technical Features</h2>
			<p>Our webserver supports the following CGI features:</p>
			<ul>
				<li><strong>Multiple Languages:</strong> Python, C++, and other executable scripts</li>
				<li><strong>Environment Variables:</strong> Full CGI environment including REQUEST_METHOD, QUERY_STRING, etc.</li>
				<li><strong>POST Data:</strong> Reading from stdin for POST requests</li>
				<li><strong>File Uploads:</strong> Handling multipart/form-data</li>
				<li><strong>Path Info:</strong> Full path handling for CGI scripts</li>
				<li><strong>Working Directory:</strong> Correct directory context for relative paths</li>
				<li><strong>Content Length:</strong> Proper EOF handling for request body</li>
				<li><strong>Response Headers:</strong> Support for custom HTTP headers from CGI</li>
			</ul>
		</div>

		<div class="info-box">
			<h2>üìã CGI Implementation Details</h2>
			<p>This webserver implements CGI according to the CGI 1.1 specification:</p>
			<ul>
				<li>‚úÖ <strong>Script Execution:</strong> CGI scripts run with the requested file as first argument</li>
				<li>‚úÖ <strong>Environment Setup:</strong> Complete CGI environment variables</li>
				<li>‚úÖ <strong>Request Body:</strong> Unchunked data passed to CGI via stdin</li>
				<li>‚úÖ <strong>Response Processing:</strong> EOF detection for CGI output</li>
				<li>‚úÖ <strong>Directory Context:</strong> Scripts run in correct directory for file access</li>
				<li>‚úÖ <strong>PATH_INFO:</strong> Full path used as PATH_INFO environment variable</li>
			</ul>
		</div>

		<p><a href="/">‚Üê Back to Home</a></p>
	</div>
</body>
</html>
